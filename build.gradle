group 'com.aoe'
version '0.1'

apply plugin: 'groovy'

repositories {
    mavenCentral()
    jcenter()
}

configurations {
    provided
    compile.extendsFrom(provided)
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.0.8'
    compile 'org.gebish:geb-spock:1.1.1'
    testCompile 'org.spockframework:spock-core:1.1-groovy-2.0'
    testCompile 'junit:junit:4.12'

    provided "org.slf4j:slf4j-simple:1.7.13"
    provided ('com.athaydes:spock-reports:1.3.1') {
        transitive = false
    }
}

jar {
    manifest {
        attributes "Main-Class": "com.aoe.gebspockreports.GebReportingListener"
    }
    from {
        configurations.provided.asFileTree.files.collect { zipTree(it) }
    }
}